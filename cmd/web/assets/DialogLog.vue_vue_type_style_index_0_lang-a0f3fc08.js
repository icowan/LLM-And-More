import{T as v}from"./TextLog-803c141c.js";import{d as D,r as i,x as h,a8 as x,U as L,k as V,l as w,m as r,_ as C,$ as k,j as y}from"./utils-77c08ab5.js";import{aL as T}from"./index-733db90d.js";const F=D({__name:"DialogLog",props:{interval:{default:0}},emits:["refresh"],setup(c,{expose:f,emit:u}){const a=c,p=u,n=i(),o=i(null),e=h({content:"",title:"",isDone:!1}),m=()=>{o.value?o.value.isPending||o.value.start():o.value=T(()=>{l()},a.interval*1e3)},l=()=>{e.isDone=!1,p("refresh")},g=t=>{t||o.value&&o.value.stop()};return f({show({content:t="",title:s="日志"}={}){l(),n.value.show({showActions:!1,contentHeight:"calc(100vh - 400px)"}),x.assign(e,{content:t,title:s}),t&&this.setContent(t)},setContent(t){e.content=t,e.isDone=!0,a.interval!==0&&m()}}),(t,s)=>{const d=L("Dialog");return V(),w(d,{"onUpdate:modelValue":g,ref_key:"refDialogLog",ref:n,"max-width":"1200px","min-height":"400px",class:"compo-dialogLog"},{title:r(()=>[C(k(e.title),1)]),default:r(()=>[y(v,{modelValue:e.content,"onUpdate:modelValue":s[0]||(s[0]=_=>e.content=_),isDone:e.isDone,resizeAble:!1},null,8,["modelValue","isDone"])]),_:1},512)}}});export{F as _};
